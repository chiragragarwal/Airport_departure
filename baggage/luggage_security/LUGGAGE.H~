#include<stdio.h>
#include<stdlib.h>
#include "luggage_security/COLOR.h"
#include "luggage_security/PALINDROME.h"
#include "luggage_security/SEARCH_DELETE2D.h"

int luggage_security(int nBags, int *weight, int **contents)
{
	int i,j, danger_count = 0,t;
	int danger[nBags*10];
	
	//checking for liquids and explosives
	for(i=0;i<nBags;i++)
		for(j=0;j<10;j++)
		{
			if(color(contents[i][j]) == 1 || palindrome(contents[i][j]) == 1)
			{
				danger[danger_count] = contents[i][j];
				danger_count++;
			}
		}
	
	printf("\nNo. of dangerous items = %d\n Items are as follows : \n", danger_count);	
	for(i=0;i<danger_count;i++)
		printf("%d ",danger[i]);

	printf("\n");
	
	for(t=0;t<danger_count;t++)
		contents = delete2D(contents,danger[t],nBags);
	
	printf("\nCONTENTS ARRAY => \n");	
		for(i=0;i<nBags;i++)
		{
			for(j=0;j<10;j++)
				printf("%d ",contents[i][j]);
			printf("\n");
		}
		
	return 0;
}

